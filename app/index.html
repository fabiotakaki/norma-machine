<!DOCTYPE html>
<html>
<head>
  <title>MÃ¡quina de Norma</title>
  <link rel="stylesheet" type="text/css" href="assets/css/style.css">
</head>
<body>
<div class="container">

  <header>
    <h1>Norma Machine</h1>
  </header>

  <nav>
    nA: <input type="text" name="A" id="nA" value="0"/><br>
    nB: <input type="text" name="B" id="nB" value="0" /><br>
    <button id="zeroA">Zero A</button>
    <button id="setA">Set A</button>
    <button id="setB">Set B</button>

  </nav>
  <h2>Current value of registers</h2>
  <table>
    <thead>
      <th>Register A</th>
      <th>Register B</th>
      <th>Register C</th>
      <th>Register D</th>
    </thead>
    <tbody>
      <tr>
        <td>0</td>
        <td>0</td>
        <td>0</td>
        <td>0</td>
      </tr>
    </tbody>
  </table>

  <h2>Step-by-step</h2>
  <table>
    <thead>
      <th>Register A</th>
      <th>Register B</th>
      <th>Register C</th>
      <th>Register D</th>
    </thead>
    <tbody id="steps"></tbody>
  </table>
</div>
<script type="text/javascript" src="assets/js/jquery-3.2.1.min.js"></script>
<script type="text/javascript">
  function registerNM(value) {
    this.value = value;

    this.increment = function(){
      this.value += 1;
    }
    this.decrement = function(){
      this.value -= 1;
    }
    this.getValue = function(){
      return this.value;
    }
    this.isZero = function(){
      if(this.value == 0){
        return 1;
      }
      else return 0;
    }


  }

  function NormaMachine() {
    this.A = new registerNM(0);
    this.B = new registerNM(0);
    this.C = new registerNM(0);
    this.D = new registerNM(0);

    this.setA = function(nA) {
      var register = new registerNM(parseInt(nA));
      $('#steps').html('');
      this.printStep();
      while(!register.isZero()){
        this.A.increment();
        register.decrement();
        this.printStep();
      }
    };

    this.setB = function(nB) {
      var register = new registerNM(parseInt(nB));
      $('#steps').html('');
      this.printStep();
      while(!register.isZero()){
        this.B.increment();
        register.decrement();
        this.printStep();
      }
    };

    this.printStep = function(){
      var html = `
        <tr>
          <td>`+this.A.getValue()+`</td>
          <td>`+this.B.getValue()+`</td>
          <td>`+this.C.getValue()+`</td>
          <td>`+this.D.getValue()+`</td>
        </tr>
      `;
      $('#steps').append(html);
    };
  }

  var m = new NormaMachine();
  
  $('#setA').click(function(){
    m.setA($('#nA').val());
  });

</script>
</body>
</html>